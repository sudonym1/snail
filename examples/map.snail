#!/usr/bin/env -S snail --map -f
# Map mode example (process each file as a whole).
# Code before the body runs once before input is processed.
print("map start")

# $src is the input path; $text is the full file contents.
print("File:", $src)
print("Size:", len($text), "bytes")
print("First line:", $text.split('\n')[0] if $text else "(empty)")
print("---")

# Code after the body runs once after all input is processed.
print("map done")
