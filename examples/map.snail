#!/usr/bin/env -S snail --map -b 'print("map start")' -e 'print("map done")' -f
# Map mode example (process each file as a whole).
# -b and -e flags in the shebang run code before/after the files { } block.

# $src is the input path; $text is the full file contents.
print("File:", $src)
print("Size:", len($text), "bytes")
print("First line:", $text.split('\n')[0] if $text else "(empty)")
print("---")
