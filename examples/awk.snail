#!/usr/bin/env -S snail --awk -f
BEGIN { print("demo begin") }
$0.startswith("d") { print("matched:", $0) }
/de(mo)/ { print("regex:", $m.1) }
{ print($fn); print($0) }
END { print("demo end") }
